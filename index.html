<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>WA Direct Link Generator - Chat on WhatsApp Without Saving Numbers</title>
    <meta name="description" content="Generate a direct WhatsApp chat link for Indonesian numbers (08...) instantly without saving the contact. Fast, free, and simple PWA tool.">
    <meta name="keywords" content="whatsapp link, wa me, chat tanpa simpan nomor, wa direct, whatsapp generator, 62, 08">
    <link rel="canonical" href="https://YOUR-CUSTOM-DOMAIN.com/">
    
    <meta property="og:title" content="WA Direct Link Generator">
    <meta property="og:description" content="Chat on WhatsApp instantly without saving the number.">
    <meta property="og:image" content="https://YOUR-CUSTOM-DOMAIN.com/wa-icon-512.png">
    <meta property="og:url" content="https://YOUR-CUSTOM-DOMAIN.com/">
    <meta property="og:type" content="website">

    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/wa-icon-192.png"> 
    <meta name="theme-color" content="#25D366"/>

    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-XXXXXXXXXX'); // REPLACE with your GA4 Measurement ID
    </script>

    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            background-color: #f7f7f7;
        }
        .card {
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>
<body class="p-4 flex items-center justify-center min-h-screen">

    <div class="card w-full max-w-md bg-white rounded-xl p-6 md:p-8">
        <h1 class="text-2xl font-bold text-gray-800 mb-4 text-center">Chat to Whatsapp without saving numbers ðŸš€</h1>
        <p class="text-sm text-gray-500 mb-6 text-center">Just input the number in the field below and press "Open Whatsapp Link".</p>

        <div class="mb-4">
            <label for="phoneNumber" class="block text-sm font-medium text-gray-700">WhatsApp Number (Example: 081234567890 or +62812...)</label>
            <input type="tel" id="phoneNumber" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500" placeholder="0812xxxxxxx" required>
            
            <p id="errorMsg" class="text-red-500 text-xs mt-1 hidden">Invalid format. Please use **08...** or **+628...** (8-15 digits after country code).</p>
        </div>
        
        <div class="space-y-4">
            <button id="openChatBtn" class="w-full flex items-center justify-center px-4 py-2 border border-transparent text-base font-medium rounded-lg shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition duration-150">
                Open Whatsapp Link ðŸ’¬
            </button>
            <button id="copyLinkBtn" class="w-full flex items-center justify-center px-4 py-2 border border-green-600 text-base font-medium rounded-lg text-green-600 bg-white hover:bg-green-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition duration-150">
                Copy Link ðŸ”—
            </button>
            <p id="successMsg" class="text-center text-sm text-green-600 hidden">Link copied successfully!</p>
        </div>

    </div>

    <script>
        const phoneInput = document.getElementById('phoneNumber');
        const openChatBtn = document.getElementById('openChatBtn');
        const copyLinkBtn = document.getElementById('copyLinkBtn');
        const errorMsg = document.getElementById('errorMsg');
        const successMsg = document.getElementById('successMsg');
        
        const WA_BASE_URL = 'https://wa.me/';

        function setInputError(isError) {
            if (isError) {
                errorMsg.classList.remove('hidden');
                phoneInput.classList.add('border-red-500'); 
                phoneInput.classList.remove('focus:ring-green-500', 'focus:border-green-500');
                openChatBtn.disabled = true;
                copyLinkBtn.disabled = true;
            } else {
                errorMsg.classList.add('hidden');
                phoneInput.classList.remove('border-red-500');
                phoneInput.classList.add('focus:ring-green-500', 'focus:border-green-500');
                openChatBtn.disabled = false;
                copyLinkBtn.disabled = false;
            }
        }

        function formatNumber(localNumber) {
            // 1. Strip ALL non-digit characters (spaces, dashes, +, etc.)
            let cleanNumber = String(localNumber).replace(/\D/g, ''); 
            
            // 2. Handle 62 prefix
            if (cleanNumber.startsWith('62')) {
                return cleanNumber;
            }
            
            // 3. Handle 0 prefix (Indonesian local format)
            if (cleanNumber.startsWith('08')) {
                // Replace '0' with '62'
                return '62' + cleanNumber.substring(1);
            }
            
            // Return original clean number if it doesn't match expected prefixes
            return cleanNumber;
        }

        // --- Core Link Generation and Validation ---
        function generateLink() {
            const inputVal = phoneInput.value;
            const cleanedNum = formatNumber(inputVal); 
            
            // Validation: Must result in a 62-prefixed number AND be a valid length
            const startsWith62 = cleanedNum.startsWith('62');
            const isValidLength = cleanedNum.length >= 11 && cleanedNum.length <= 18; 
            
            if (!startsWith62 || !isValidLength) {
                setInputError(true);
                return null;
            }
            
            // Success state
            setInputError(false);
            return WA_BASE_URL + cleanedNum;
        }

        // --- Event Listeners ---
        
        // 1. Open Chat Button Handler
        openChatBtn.addEventListener('click', () => {
            successMsg.classList.add('hidden');
            const waLink = generateLink(); 
            if (waLink) {
                window.open(waLink, '_blank'); 
            }
        });

        // 2. Copy Link Button Handler
        copyLinkBtn.addEventListener('click', () => {
            const waLink = generateLink(); 
            if (waLink) {
                navigator.clipboard.writeText(waLink).then(() => {
                    successMsg.textContent = 'Link copied successfully: ' + waLink;
                    successMsg.classList.remove('hidden');
                    setTimeout(() => successMsg.classList.add('hidden'), 3000); 
                }).catch(err => {
                    console.error('Could not copy text: ', err);
                    alert('Failed to copy link. Please try manually.');
                });
            }
        });

        // 3. Clear errors when user types
        phoneInput
